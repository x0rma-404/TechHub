{% extends "bar.html" %}

{% block content %}

<link rel="stylesheet" href="../static/Q&A.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<div class="wrapper">
    <main class="content-area">
        <div class="header-section">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Sorğu axtar...">
            </div>
            <div class="category-list">
                <button class="cat-btn active" onclick="switchTab('categories')">Kategoriyalar</button>
                <button class="cat-btn" onclick="switchTab('populyar')">Populyar</button>
                <button class="cat-btn" onclick="switchTab('cavabsiz')">Cavabsız</button>
                <button class="cat-btn" onclick="switchTab('yeni-sorgu')">Yeni sorğu</button>
            </div>
        </div>

        <div id="tab-categories" class="grid-container">
            <div class="topic-card" onclick="location.href='/Q&A/python'">
                <i class="fab fa-python python-icon"></i>
                <h3>Python Sorğuları</h3>
                <p>Python sorğuları üçün nəzərdə tutulub.</p>
                <span class="stats">Kategoriya</span>
            </div>
            <div class="topic-card" onclick="location.href='/Q&A/web'">
                <i class="fab fa-html5 web-icon"></i>
                <h3>Web Development</h3>
                <p>Frontend və Backend mövzuları.</p>
                <span class="stats">Kategoriya</span>
            </div>
        </div>

        <div id="dynamic-list" class="questions-list" style="display:none; flex-direction:column; gap:15px; margin-top:20px;">
            </div>


<div id="dynamic-list" class="questions-list" style="display:none; flex-direction:column; gap:15px; margin-top:20px;">
    </div>

    </main>

    <aside class="right-sidebar">
    <h3>Son Aktivliklər</h3>
    
    <div class="activity-feed">
        {% for q in recent_activity %}
        <div class="feed-item" onclick="location.href='/Q&A/view/{{ q.id }}'" style="cursor:pointer; display:flex; gap:10px; margin-bottom:15px; align-items:center;">
            <img src="{{ q.author_photo if q.author_photo else 'https://ui-avatars.com/api/?name=' + q.author_name }}" 
                 alt="user" 
                 style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover;">
            
            <div class="feed-text">
                <p style="font-weight:bold; margin:0; font-size:14px;">{{ q.title }}</p>
                <small style="color:#666;">
                    {{ q.author_name }} • {{ q.timestamp | format_time }}
                </small>
            </div>
        </div>
        {% else %}
        <p style="color:#777;">Hələ ki, aktivlik yoxdur.</p>
        {% endfor %}
    </div>
</aside>
</div>

<script src="../static/Q&A.js"></script>







{% endblock %}