{% extends "bar.html" %}

{% block content %}
<link rel="stylesheet" href="../static/Q&A.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<div class="wrapper animate-stagger">
    <main class="content-area">
        <!-- New Hero Section -->
        <div class="qa-hero">
            <h1 class="qa-hero-title">Q&A Community</h1>
            <p class="qa-hero-subtitle">Mütəxəssis devlər tərəfindən cavablandırılan IT və proqramlaşdırma sorğuları
                mərkəzi.</p>

            <div class="search-box">
                <i class="fas fa-search text-slate-400"></i>
                <input type="text" id="searchInput" placeholder="Sorğu və ya mövzu axtar...">
            </div>
        </div>

        <div class="header-section">
            <div class="flex flex-wrap gap-3 justify-center mb-4">
                <button class="cat-btn active" onclick="switchTab('categories')">Kategoriyalar</button>
                <button class="cat-btn" onclick="switchTab('populyar')">Populyar</button>
                <button class="cat-btn" onclick="switchTab('cavabsiz')">Cavabsız</button>
                <button class="cat-btn" onclick="switchTab('yeni-sorgu')">Yeni sorğu</button>
            </div>
        </div>

        <div id="tab-categories" class="grid-container">
            <!-- Python Card -->
            <div class="topic-card" onclick="location.href='/Q&A/python'">
                <i class="fab fa-python python-icon"></i>
                <h3 class="font-bold text-xl">Python</h3>
                <p>Python proqramlaşdırma dili və kitabxanaları.</p>
                <span class="stats">Aktiv Müzakirələr</span>
            </div>

            <!-- Web Card -->
            <div class="topic-card" onclick="location.href='/Q&A/web'">
                <i class="fab fa-html5 web-icon"></i>
                <h3 class="font-bold text-xl">Web Development</h3>
                <p>Frontend, Backend və müasir web texnologiyaları.</p>
                <span class="stats">Aktiv Müzakirələr</span>
            </div>

            <!-- Linux Card -->
            <div class="topic-card" onclick="location.href='/Q&A/linux'">
                <i class="fab fa-linux linux-icon"></i>
                <h3 class="font-bold text-xl">Linux</h3>
                <p>Sistem idarəetməsi, Bash və server mühitləri.</p>
                <span class="stats">Aktiv Müzakirələr</span>
            </div>

            <!-- Java Card -->
            <div class="topic-card" onclick="location.href='/Q&A/java'">
                <i class="fab fa-java" style="color:#f89820;"></i>
                <h3 class="font-bold text-xl">Java</h3>
                <p>Java SE, Enterprise Edition və JVM mühiti.</p>
                <span class="stats">Aktiv Müzakirələr</span>
            </div>

            <!-- C++ Card -->
            <div class="topic-card" onclick="location.href='/Q&A/cpp'">
                <i class="fas fa-code" style="color:#00599c;"></i>
                <h3 class="font-bold text-xl">C++ / C</h3>
                <p>Sistem proqramlaşdırma və yüksək performanslı kod.</p>
                <span class="stats">Aktiv Müzakirələr</span>
            </div>

            <!-- Go Card -->
            <div class="topic-card" onclick="location.href='/Q&A/go'">
                <i class="fas fa-rocket" style="color:#00add8;"></i>
                <h3 class="font-bold text-xl">Go (Golang)</h3>
                <p>Müasir bulud və şəbəkə proqramlaşdırma dili.</p>
                <span class="stats">Aktiv Müzakirələr</span>
            </div>

            <!-- Ruby Card -->
            <div class="topic-card" onclick="location.href='/Q&A/ruby'">
                <i class="fas fa-gem" style="color:#cc342d;"></i>
                <h3 class="font-bold text-xl">Ruby</h3>
                <p>Ruby proqramlaşdırma və Rails freymvorku.</p>
                <span class="stats">Aktiv Müzakirələr</span>
            </div>

            <!-- Database Card -->
            <div class="topic-card" onclick="location.href='/Q&A/db'">
                <i class="fas fa-database" style="color:#e9c46a;"></i>
                <h3 class="font-bold text-xl">SQL & Database</h3>
                <p>RDBMS, NoSQL və effektiv verilənlər bazası dizaynı.</p>
                <span class="stats">Aktiv Müzakirələr</span>
            </div>

            <!-- Security Card -->
            <div class="topic-card" onclick="location.href='/Q&A/security'">
                <i class="fas fa-shield-alt" style="color:#e76f51;"></i>
                <h3 class="font-bold text-xl">Cybersecurity</h3>
                <p>Şəbəkə təhlükəsizliyi, kriptoqrafiya və pentest.</p>
                <span class="stats">Aktiv Müzakirələr</span>
            </div>

            <!-- Mobile Card -->
            <div class="topic-card" onclick="location.href='/Q&A/mobile'">
                <i class="fas fa-mobile-alt" style="color:#8b5cf6;"></i>
                <h3 class="font-bold text-xl">Mobile Dev</h3>
                <p>Flutter, React Native və cross-platform mobil inkişaf.</p>
                <span class="stats">Aktiv Müzakirələr</span>
            </div>
        </div>

        <div id="dynamic-list" class="space-y-4 hidden"></div>
    </main>

    <aside class="right-sidebar">
        <h3 class="font-bold text-xl mb-6 flex items-center gap-2">
            <i class="fas fa-bolt text-yellow-400"></i> Son Aktivliklər
        </h3>
        <div class="space-y-2">
            {% for q in recent_activity %}
            <div class="feed-item cursor-pointer" onclick="location.href='/Q&A/view/{{ q.id }}'">
                <img src="{{ q.author_photo if q.author_photo else 'https://ui-avatars.com/api/?name=' + (q.author_name | urlencode) }}"
                    alt="user" class="h-10 w-10 border border-slate-700">
                <div class="min-w-0">
                    <p class="font-semibold text-sm truncate text-slate-200">{{ q.title }}</p>
                    <small class="text-xs text-slate-500">
                        {{ q.author_name }} • {{ q.timestamp | format_time }}
                    </small>
                </div>
            </div>
            {% else %}
            <p class="text-slate-500 text-sm text-center py-4">Hələ ki, aktivlik yoxdur.</p>
            {% endfor %}
        </div>
    </aside>
</div>

<script src="../static/Q&A.js"></script>
{% endblock %}