{% extends "bar.html" %}

{% block content %}
<link rel="stylesheet" href="../static/Q&A.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<div class="max-w-7xl mx-auto px-4 py-8">
    <div class="grid lg:grid-cols-3 gap-6">
        <div class="lg:col-span-2 space-y-6">
            <div class="glass ring-soft rounded-2xl p-6">
                <div class="flex items-center gap-3 mb-6">
                    <i class="fas fa-search text-slate-400"></i>
                    <input type="text" id="searchInput" class="input flex-1 rounded-xl px-4 py-3"
                        placeholder="Sorğu axtar...">
                </div>

                <div class="flex flex-wrap gap-2 mb-6">
                    <button class="btn btn-primary" onclick="switchTab('categories')">Kategoriyalar</button>
                    <button class="btn btn-muted" onclick="switchTab('populyar')">Populyar</button>
                    <button class="btn btn-muted" onclick="switchTab('cavabsiz')">Cavabsız</button>
                    <button class="btn btn-muted" onclick="switchTab('yeni-sorgu')">Yeni sorğu</button>
                </div>
            </div>

            <div id="tab-categories" class="grid md:grid-cols-2 gap-4 animate-stagger">
                <a href="/Q&A/python"
                    class="glass ring-soft rounded-2xl p-6 hover:border-indigo-500/50 transition-all group">
                    <div class="flex items-center gap-4 mb-3">
                        <div
                            class="h-12 w-12 rounded-xl bg-indigo-500/10 border border-indigo-500/20 grid place-items-center group-hover:bg-indigo-500 transition-all">
                            <i class="fab fa-python text-2xl text-indigo-400 group-hover:text-white"></i>
                        </div>
                        <h3 class="font-bold">Python Sorğuları</h3>
                    </div>
                    <p class="text-sm text-slate-400">Python sorğuları üçün nəzərdə tutulub.</p>
                    <span class="badge mt-3">Kategoriya</span>
                </a>

                <a href="/Q&A/web"
                    class="glass ring-soft rounded-2xl p-6 hover:border-cyan-500/50 transition-all group">
                    <div class="flex items-center gap-4 mb-3">
                        <div
                            class="h-12 w-12 rounded-xl bg-cyan-500/10 border border-cyan-500/20 grid place-items-center group-hover:bg-cyan-500 transition-all">
                            <i class="fab fa-html5 text-2xl text-cyan-400 group-hover:text-white"></i>
                        </div>
                        <h3 class="font-bold">Web Development</h3>
                    </div>
                    <p class="text-sm text-slate-400">Frontend və Backend mövzuları.</p>
                    <span class="badge mt-3">Kategoriya</span>
                </a>

                <a href="/Q&A/linux"
                    class="glass ring-soft rounded-2xl p-6 hover:border-emerald-500/50 transition-all group">
                    <div class="flex items-center gap-4 mb-3">
                        <div
                            class="h-12 w-12 rounded-xl bg-emerald-500/10 border border-emerald-500/20 grid place-items-center group-hover:bg-emerald-500 transition-all">
                            <i class="fab fa-linux text-2xl text-emerald-400 group-hover:text-white"></i>
                        </div>
                        <h3 class="font-bold">Linux</h3>
                    </div>
                    <p class="text-sm text-slate-400">Linux və sistem idarəetməsi.</p>
                    <span class="badge mt-3">Kategoriya</span>
                </a>
            </div>

            <div id="dynamic-list" class="space-y-4 hidden"></div>
        </div>

        <aside class="space-y-6">
            <div class="glass ring-soft rounded-2xl p-6">
                <h3 class="font-semibold mb-4">Son Aktivliklər</h3>
                <div class="space-y-4">
                    {% for q in recent_activity %}
                    <div class="flex gap-3 cursor-pointer hover:bg-white/5 p-2 rounded-xl transition-all"
                        onclick="location.href='/Q&A/view/{{ q.id }}'">
                        <img src="{{ q.author_photo if q.author_photo else 'https://ui-avatars.com/api/?name=' + q.author_name }}"
                            alt="user" class="h-10 w-10 rounded-full object-cover">
                        <div class="flex-1 min-w-0">
                            <p class="font-medium text-sm truncate">{{ q.title }}</p>
                            <small class="text-xs text-slate-400">
                                {{ q.author_name }} • {{ q.timestamp | format_time }}
                            </small>
                        </div>
                    </div>
                    {% else %}
                    <p class="text-slate-400 text-sm">Hələ ki, aktivlik yoxdur.</p>
                    {% endfor %}
                </div>
            </div>
        </aside>
    </div>
</div>

<script src="../static/Q&A.js"></script>
{% endblock %}