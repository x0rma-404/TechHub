{% extends "bar.html" %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/theme/material-darker.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/mode/python/python.min.js"></script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='python.css') }}">

<div class="max-w-7xl mx-auto px-4 py-6">
    <div class="glass ring-soft rounded-2xl overflow-hidden">
        <div class="flex items-center justify-between px-6 py-4 border-b border-white/10">
            <div class="flex items-center gap-3">
                <i class="bx bxl-python text-3xl text-indigo-400"></i>
                <span class="font-semibold">Python Playground</span>
            </div>
            <div class="flex gap-2">
                <button class="btn btn-muted" onclick="clearConsole()">
                    <i class='bx bx-trash'></i> Clear
                </button>
                <button class="btn btn-primary" id="runBtn" onclick="runCode()" disabled>
                    <i class='bx bx-play'></i> Run Code
                </button>
            </div>
        </div>

        <div class="grid lg:grid-cols-[1.5fr_1fr] gap-0 min-h-[600px]">
            <div class="border-r border-white/10 flex flex-col">
                <div class="flex items-center justify-between px-4 py-2 bg-white/5 border-b border-white/10">
                    <span class="text-xs font-semibold text-slate-400">EDITOR</span>
                    <span class="text-xs text-slate-500">main.py</span>
                </div>
                <div class="relative flex-1" style="background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%);">
                    <textarea id="code-editor"># TechHub Python Playground
# Daxil edin və Run düyməsini sıxın
# Yalnız default lib lər istifadə edə bilərsiniz

def salamla(ad):
    return f"Salam, {ad}! TechHub-a xoş gəlmisiniz."

print(salamla("İstifadəçi"))

# Siyahı ilə işləmək
meyveler = ["Alma", "Armud", "Gilas"]
for index, meyve in enumerate(meyveler, 1):
    print(f"{index}. {meyve}")
</textarea>
                    <div id="editor-loading"
                        class="absolute inset-0 bg-[#0b1220]/90 backdrop-blur-sm grid place-items-center z-10">
                        <div class="text-center">
                            <div
                                class="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-500 border-r-transparent mb-3">
                            </div>
                            <p class="text-slate-400">Başladılır...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex flex-col">
                <div class="flex items-center justify-between px-4 py-2 bg-white/5 border-b border-white/10">
                    <span class="text-xs font-semibold text-slate-400">OUTPUT</span>
                    <span id="status-badge" class="text-xs text-green-400">Ready</span>
                </div>
                <pre id="console"
                    class="p-4 flex-1 bg-[#0d1117] text-green-400 font-mono text-sm overflow-auto">Kodu icra etmək üçün 'Run' düyməsini sıxın...</pre>
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='python.js') }}"></script>
{% endblock %}