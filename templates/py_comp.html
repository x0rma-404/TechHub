{% extends "bar.html" %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/theme/material-darker.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/mode/python/python.min.js"></script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>

<link rel="stylesheet" href="../static/py_comp.css">

<div class="py-comp-container">
    <div class="toolbar">
        <div class="tool-title">
            <i class="bx bxl-python"></i>
            <span>Python Playground</span>
        </div>
        <div class="action-buttons">
            <button class="btn btn-clear" onclick="clearConsole()">
                <i class='bx bx-trash'></i> Clear
            </button>
            <button class="btn btn-run" id="runBtn" onclick="runCode()" disabled>
                <i class='bx bx-play'></i> Run Code
            </button>
        </div>
    </div>

    <div class="main-grid">
        <div class="editor-section">
            <div class="section-header">
                <span>EDITOR</span>
                <span>main.py</span>
            </div>
            <textarea id="code-editor"># TechHub Python Playground
# Daxil edin və Run düyməsini sıxın
#Yalnız default lib lər istifadə edə bilərsiniz

def salamla(ad):
    return f"Salam, {ad}! TechHub-a xoş gəlmisiniz."

print(salamla("İstifadəçi"))

# Siyahı ilə işləmək
meyveler = ["Alma", "Armud", "Gilas"]
for index, meyve in enumerate(meyveler, 1):
    print(f"{index}. {meyve}")
</textarea>
            <div id="editor-loading" class="loading-overlay">
                <div class="spinner"></div>
                <p>Başladılır...</p>
            </div>
        </div>

        <div class="console-section">
            <div class="section-header">
                <span>OUTPUT</span>
                <span id="status-badge" style="color: #4caf50;">Ready</span>
            </div>
            <pre id="console">Kodu icra etmək üçün 'Run' düyməsini sıxın...</pre>
        </div>
    </div>
</div>

<script src="../static/python.js"></script>
{% endblock %}